{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\lvl-2.js"],"names":["cc","Class","extends","Component","properties","star","type","Node","default","bg","obs1","obs2","obs3","obs4","return","speed","dir","count","spacemAudio","AudioClip","jumpAudio","nextAudio","onLoad","on","event","audioEngine","stopMusic","director","loadScene","rigidBody","getComponent","RigidBody","getPhysicsManager","enabled","systemEvent","SystemEvent","EventType","KEY_DOWN","onKeyDown","KEY_UP","onKeyUp","jump","linearVelocity","v2","changeSound","playEffect","jumpSound","nextSound","playState","Animation","keyCode","macro","KEY","a","active","play","d","w","y","space","color","onBeginContact","contact","selfCollider","otherCollider","node","name","start","update","dt","x"],"mappings":"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","file":"lvl-2.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        star: {\r\n            type: cc.Node,\r\n            default: null,\r\n        },\r\n        bg: {\r\n            type: cc.Node,\r\n            default: null,\r\n        },\r\n        obs1: {\r\n            type: cc.Node,\r\n            default: null,\r\n        },\r\n        obs2: {\r\n            type: cc.Node,\r\n            default: null,\r\n        },\r\n        obs3: {\r\n            type: cc.Node,\r\n            default: null,\r\n        },\r\n        obs4: {\r\n            type: cc.Node,\r\n            default: null,\r\n        },\r\n        return: {\r\n            type: cc.Node,\r\n            default: null,\r\n        },\r\n        speed: 500,\r\n        dir: 0,\r\n        count: 2,\r\n        spacemAudio: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n        jumpAudio: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n        nextAudio: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        \r\n        this.return.on('touchstart', function (event) {\r\n            cc.audioEngine.stopMusic();\r\n            cc.director.loadScene('start');\r\n        }, this);\r\n        this.rigidBody = this.getComponent(cc.RigidBody);\r\n        cc.director.getPhysicsManager().enabled = true;\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n        // cc.director.getPhysicsManager().debugDrawFlags = cc.PhysicsManager.DrawBits.e_aabbBit |\r\n        //     cc.PhysicsManager.DrawBits.e_pairBit |\r\n        //     cc.PhysicsManager.DrawBits.e_centerOfMassBit |\r\n        //     cc.PhysicsManager.DrawBits.e_jointBit |\r\n        //     cc.PhysicsManager.DrawBits.e_shapeBit;\r\n    },\r\n\r\n    jump() {\r\n        this.rigidBody.linearVelocity = cc.v2(0, 650);\r\n    },\r\n    changeSound() {\r\n        cc.audioEngine.playEffect(this.spacemAudio, false);\r\n    },\r\n    jumpSound() {\r\n        cc.audioEngine.playEffect(this.jumpAudio, false);\r\n    },\r\n    nextSound() {\r\n        cc.audioEngine.playEffect(this.nextAudio, false);\r\n    },\r\n    onKeyDown(event) {\r\n        var playState = this.getComponent(cc.Animation);\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.a:\r\n                if (this.obs1.getComponent(cc.RigidBody).active == false) {\r\n                    playState.play(\"leftwhite\");\r\n                }\r\n                if (this.obs1.getComponent(cc.RigidBody).active == true) {\r\n                    playState.play(\"leftblack\");\r\n                }\r\n                this.dir = 1;\r\n                break;\r\n            case cc.macro.KEY.d:\r\n                if (this.obs1.getComponent(cc.RigidBody).active == false) {\r\n                    playState.play(\"rightwhite\");\r\n                }\r\n                if (this.obs1.getComponent(cc.RigidBody).active == true) {\r\n                    playState.play(\"rightblack\");\r\n                }\r\n                this.dir = 2;\r\n                break;\r\n            case cc.macro.KEY.w:\r\n                this.jumpSound();\r\n                if (this.rigidBody.linearVelocity.y == 0) {\r\n                    this.jump();\r\n                }\r\n                break;\r\n            case cc.macro.KEY.space:\r\n                this.changeSound();\r\n                playState.play(\"rightwhite\");\r\n                this.star.color = cc.color(255, 255, 255);\r\n                this.bg.color = cc.color(51, 51, 51);\r\n                this.obs1.color = cc.color(85, 85, 85);\r\n                this.obs2.color = cc.color(85, 85, 85);\r\n                this.obs1.getComponent(cc.RigidBody).active = false;\r\n                this.obs2.getComponent(cc.RigidBody).active = false;\r\n                this.obs3.getComponent(cc.RigidBody).active = true;\r\n                this.obs4.getComponent(cc.RigidBody).active = true;\r\n                if (this.count == 1) {\r\n                    playState.play(\"rightblack\");\r\n                    this.star.color = cc.color(0, 0, 0);\r\n                    this.bg.color = cc.color(255, 255, 255);\r\n                    this.obs1.color = cc.color(0, 0, 0);\r\n                    this.obs2.color = cc.color(0, 0, 0);\r\n                    this.obs1.getComponent(cc.RigidBody).active = true;\r\n                    this.obs2.getComponent(cc.RigidBody).active = true;\r\n                    this.obs3.getComponent(cc.RigidBody).active = false;\r\n                    this.obs4.getComponent(cc.RigidBody).active = false;\r\n                }\r\n                break;\r\n        }\r\n    },\r\n    onKeyUp(event) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.a:\r\n                this.dir = 0;\r\n                break;\r\n            case cc.macro.KEY.d:\r\n                this.dir = 0;\r\n                break;\r\n            case cc.macro.KEY.space:\r\n                this.count--;\r\n                if (this.count == 0) {\r\n                    this.count = 2;\r\n                }\r\n                break;\r\n        }\r\n    },\r\n    onBeginContact(contact, selfCollider, otherCollider) {\r\n        if (otherCollider.node.name == 'star') {\r\n            this.nextSound();\r\n            cc.director.loadScene('lvl-3');\r\n        }\r\n        if (otherCollider.node.name == 'pd') {\r\n            cc.director.loadScene('lvl-2');\r\n        }\r\n    },\r\n    start() {\r\n        this.obs1.getComponent(cc.RigidBody).active = true;\r\n        this.obs2.getComponent(cc.RigidBody).active = true;\r\n        this.obs3.getComponent(cc.RigidBody).active = false;\r\n        this.obs4.getComponent(cc.RigidBody).active = false;\r\n    },\r\n\r\n    update(dt) {\r\n        if (this.dir == 1) {\r\n            this.node.x -= this.speed * dt;\r\n\r\n        } else if (this.dir == 2) {\r\n            this.node.x += this.speed * dt;\r\n        }\r\n\r\n    },\r\n});\r\n"]}